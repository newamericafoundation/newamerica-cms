{% extends "program_base.html" %}

{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% load utilities %}

{% block extra_scripts %}
	<script>
        $(function() {
        	$("#content-grid__controls__date-filter").daterangepicker({
        		applyButtonText: 'Confirm',
				clearButtonText: null,
				cancelButtonText: null,
				initialText: 'Select Dates',
				datepickerOptions: {
					numberOfMonths : 1,
					defaultDate: +0,
			        minDate: null,
			        maxDate: null
			    },
			    onChange: function() {
			    	$("#content-grid__controls__submit").prop('disabled', false);
			    }
     		})
     	});
    </script>
{% endblock %}

{% block body_class %}template-postpage{% endblock %}

{% block content %}
	<div class="post-header-container">
		<div class="post-header">
			<div class="post-header__text">
			    <h1 class="post-header__text__heading">{{ page.title }}</h1>
			</div>
		</div>
	</div>

	<div class="content-grid__controls">
		{% include 'components/content_controls.html' %}
		<div class="content-grid__controls__right">
			{% include 'components/pagination.html' with all_content=all_posts %}
		</div>
	</div>

	{% if all_posts %}
		{% block lead_story %}{% endblock %}
		{% include 'components/content_grid.html' with all_content=all_posts %}

		<div class="content-grid__footer">
			{% include 'components/pagination.html' with all_content=all_posts %}
		</div>
	{% else %}
		<h5 class="content-grid__no-results">No results found</h5>
	{% endif %}
{% endblock %}
