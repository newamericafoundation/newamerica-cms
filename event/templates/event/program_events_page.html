{% extends "program_base.html" %}

{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% load utilities %}

{% block extra_scripts %}
	<script>
        $(function() {
        	$("#content-grid__controls__date-filter").daterangepicker({
        		applyButtonText: 'Confirm',
				clearButtonText: null,
				cancelButtonText: null,
				initialText: 'Select Dates',
				presetRanges: [{
			         text: 'Today',
			         dateStart: function() { return moment() },
			         dateEnd: function() { return moment() }
			    }, {
			         text: 'Tomorrow',
			         dateStart: function() { return moment().add('days', 1) },
			         dateEnd: function() { return moment().add('days', 1) }
			    }, {
			         text: 'Next 7 Days',
			         dateStart: function() { return moment() },
			         dateEnd: function() { return moment().add('days', 6) }
			    }, {
			         text: 'Previous 7 Days',
			         dateStart: function() { return moment().add('days', -6) },
			         dateEnd: function() { return moment() }
			    }, {
			         text: 'Future',
			         dateStart: function() { return moment() },
			         dateEnd: function() { return moment().add('days', 365) }
			    }, {
			         text: 'Past Year',
			         dateStart: function() { return moment().add('days', -365) },
			         dateEnd: function() { return moment() }
			    }],
				datepickerOptions: {
					numberOfMonths : 1,
			        minDate: null,
			        maxDate: null
			    },
			    onChange: function() {
			    	$("#content-grid__controls__submit").prop('disabled', false);
			    }
     		})
     	});
    </script>
{% endblock %}

{% block body_class %}template-programeventspage{% endblock %}

{% block content %}

	<div class="post-header-container">
		<div class="post-header">
			<div class="post-header__text">
			    <h1 class="post-header__text__heading">{{ page.title }}</h1>
			</div>
		</div>
	</div>

	<div class="event-post-home-page">
		<div class="content-grid__controls">
			{% include 'components/content_controls.html' %}
			<div class="content-grid__controls__right">
				{% include 'components/pagination' with all_content=all_events %}
			</div>
		</div>

	{% if all_events %}
		<div class="picture-grid with-sidemenu-width">
			{% include 'components/grid.html' with all_content=all_events %}
		</div>

		<div class="picture-grid__footer">
			{% include 'components/pagination' with all_content=all_events %}
		</div>

	{% else %}
		<h5 class="content-grid__no-results">No results found</h5>
	{% endif %}

	</div>

{% endblock %}
